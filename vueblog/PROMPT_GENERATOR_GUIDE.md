# Prompt生成功能使用指南

## 功能概述

Prompt生成功能是一个基于项目配置的AI对话工具，允许用户选择已配置AI接口的项目，并使用该项目的API Key、API URL和模型来生成智能回复。

## 功能特点

### 1. 项目选择
- 显示用户参与的所有项目
- 支持项目名称和编码搜索
- 显示项目AI配置状态
- 只允许选择已配置AI接口的项目

### 2. 智能对话
- 实时AI对话功能
- 支持多轮对话
- 消息历史记录
- 一键复制AI回复

### 3. 快速模板
- 预置常用Prompt模板
- 一键使用模板内容
- 涵盖代码生成、文档编写等场景

### 4. 项目信息展示
- 显示当前使用的项目信息
- 显示AI模型和API配置
- 项目成员和权限信息

## 使用步骤

### 第一步：配置项目AI接口

在使用Prompt生成功能之前，需要先在项目管理中配置AI接口：

1. 进入"项目管理" → "项目列表"
2. 选择要配置的项目，点击"查看详情"或"编辑"
3. 填写以下AI配置信息：
   - **API Key**: 您的AI服务API密钥
   - **API URL**: AI服务的接口地址
   - **Model Name**: 要使用的AI模型名称

#### 常用AI服务配置示例：

**OpenAI ChatGPT:**
- API URL: `https://api.openai.com/v1/chat/completions`
- Model Name: `gpt-3.5-turbo` 或 `gpt-4`
- API Key: `sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`

**Azure OpenAI:**
- API URL: `https://your-resource.openai.azure.com/openai/deployments/your-deployment/chat/completions?api-version=2023-12-01-preview`
- Model Name: 您的部署名称
- API Key: 您的Azure OpenAI密钥

### 第二步：使用Prompt生成

1. 在左侧菜单中点击"Prompt管理" → "Prompt生成"
2. 在项目选择页面中：
   - 浏览可用的项目列表
   - 使用搜索框快速查找项目
   - 选择一个已配置AI的项目（显示绿色"已配置AI"标签）
3. 进入对话界面后：
   - 在输入框中输入您的问题或需求
   - 点击"发送"按钮或使用Ctrl+Enter快捷键
   - 等待AI生成回复
   - 可以继续进行多轮对话

### 第三步：使用快速模板

右侧提供了常用的Prompt模板：

1. **代码生成**: 用于请求AI生成特定功能的代码
2. **文档编写**: 用于请求AI编写技术文档
3. **问题解答**: 用于请求AI解答技术问题
4. **代码优化**: 用于请求AI优化现有代码
5. **学习指导**: 用于请求AI提供学习建议

点击模板按钮，内容会自动填入输入框，您可以根据需要修改后发送。

## 功能操作

### 对话操作
- **发送消息**: 输入内容后点击"发送"或按Ctrl+Enter
- **复制回复**: 点击AI回复下方的"复制"按钮
- **清空对话**: 点击对话区域右上角的"清空对话"按钮
- **返回项目选择**: 点击左上角的"返回项目选择"按钮

### 项目切换
- 在对话界面可以随时返回项目选择页面
- 切换项目会清空当前对话记录
- 每个项目使用独立的AI配置

## 注意事项

### 1. 项目权限
- 只能使用您参与的项目
- 需要项目拥有者配置AI接口信息
- 不同项目可能使用不同的AI模型

### 2. API使用
- AI调用会消耗项目配置的API额度
- 请合理使用，避免频繁无意义的调用
- 长时间无响应可能是网络或API服务问题

### 3. 数据安全
- 对话内容仅在当前会话中保存
- 刷新页面会清空对话记录
- 敏感信息请谨慎输入

### 4. 错误处理
- 如果AI调用失败，会显示具体错误信息
- 常见错误包括：API Key无效、网络超时、模型不存在等
- 遇到问题请联系项目拥有者检查配置

## 快捷键

- **Ctrl + Enter**: 发送消息
- **Esc**: 清空当前输入（浏览器默认行为）

## 技术支持

如果在使用过程中遇到问题：

1. 检查项目AI配置是否正确
2. 确认网络连接正常
3. 验证API Key是否有效且有足够额度
4. 联系项目拥有者或系统管理员

## 更新日志

### v1.0.0
- 初始版本发布
- 支持项目选择和AI对话
- 提供快速模板功能
- 集成项目AI配置管理

