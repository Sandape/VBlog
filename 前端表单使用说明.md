# Prompt生成器表单使用说明

## 功能概述

已成功将Prompt生成子菜单下的对话区域替换为接口流程的表单填写页，用户现在可以通过填写表单来生成开发Prompt。

## 主要功能

### 1. 项目选择
- 用户首先需要选择一个已配置AI的项目
- 支持项目搜索功能
- 显示项目的AI配置状态

### 2. 接口信息填写表单

#### 必填字段：
- **接口名称**：如"用户登录接口"
- **接口路径**：如"POST /api/user/login"
- **数据库表SQL**：至少需要一个有效的CREATE TABLE或INSERT语句

#### 可选字段：
- **接口描述**：接口的详细说明
- **接口请求体**：JSON格式的请求参数示例
- **接口响应体**：JSON格式的响应数据示例

### 3. SQL管理
- 支持添加多个SQL语句
- 每个SQL可以单独删除（至少保留一个）
- 支持CREATE TABLE和INSERT语句

### 4. 快速模板
提供3个预设模板：
- **用户登录接口**：包含用户表的登录接口示例
- **用户注册接口**：包含用户表的注册接口示例  
- **商品列表接口**：包含商品和分类表的查询接口示例

### 5. 历史记录
- 显示当前项目的最近10条生成记录
- 点击历史记录可以快速加载之前的表单数据
- 支持刷新功能

### 6. 结果展示
- 实时显示生成的Prompt内容
- 支持复制到剪贴板
- 支持下载为Markdown文件

## 使用流程

1. **选择项目**：从项目列表中选择一个已配置AI的项目
2. **填写表单**：
   - 输入接口名称和路径（必填）
   - 可选填写接口描述、请求体、响应体
   - 添加相关的数据库表SQL语句
3. **使用模板**（可选）：点击右侧快速模板快速填充表单
4. **生成Prompt**：点击"生成Prompt"按钮，系统将调用AI进行解读
5. **查看结果**：在表单下方查看生成的Prompt内容
6. **操作结果**：复制内容或下载为文件

## 技术特性

### 前端功能
- 响应式设计，支持移动端访问
- 表单验证，确保数据完整性
- 实时状态反馈，显示加载和错误状态
- 优雅的UI设计，提升用户体验

### 后端处理
- 接收表单数据并记录到数据库
- 解析SQL语句提取表名
- 调用AI进行接口信息解读
- 生成结构化的开发Prompt
- 支持历史记录查询和管理

## 生成的Prompt格式

生成的Prompt包含以下部分：
- 开发任务描述
- 项目开发规范
- 开发示例路径
- 接口API详细信息
- 请求体参数表格（AI解析生成）
- 响应体结构表格（AI解析生成）
- 关联数据库表信息
- 数据源关系分析

## 注意事项

1. **项目配置**：确保项目已正确配置AI相关参数（API Key、API URL、模型名称）
2. **SQL格式**：SQL语句应为有效的CREATE TABLE或INSERT语句
3. **网络连接**：生成过程需要调用AI接口，确保网络连接正常
4. **权限控制**：只有项目成员才能查看和使用该项目的Prompt生成功能

## 错误处理

- 表单验证失败时会显示具体错误信息
- AI调用失败时会显示错误提示
- 网络异常时会有相应的错误反馈
- 支持重试机制，用户可以修改后重新生成

## 扩展功能

- 历史记录管理：查看、加载、删除历史生成记录
- 模板管理：可以扩展更多的快速模板
- 批量操作：支持批量生成多个接口的Prompt
- 导出功能：支持多种格式的导出（MD、PDF等）

